서버 셋팅하기

server 폴더 추가 -> server.js 추가

npm init -y
Node 프로젝트를 위한 패키지를 생성하기 위한 명령어
이러면 package.json이 생성된다
{
  "name": "server",
  "version": "1.0.0",
  "main": "server.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "start": "node server.js"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "description": ""
}
왜 생겼을까 궁금해서 정리해봄

1) "name": "server" 
프로젝트 이름이라고 한다 
npm 배포할 때 필요하다
버전 관리할 때 참고용으로 쓰기도 함 

2) "version": "1.0.0"
보통 3자리:
1 = Major (큰 변경)
0 = Minor (기능 추가)
0 = Patch (버그 수정)

3) "main": "server.js"
Node 에서 어떤 프로젝트를 실행해야 하지? 할 때 찾는 파일이다

예)
node .
하면 server.js 파일이 자동 실행됨.

4) "scripts": { ... }

터미널에서 실행할 명령어를 등록하는 공간
"test": "..."
npm 기본값

"start": "node server.js"
npm start 입력하면
Node가 server.js 실행함.

5) "keywords": []
검색 키워드.

로컬 프로젝트에서는 거의 안 씀

6) "author": ""
작성자 이름.

7) "license": "ISC"

프로젝트 라이선스
오픈소스 배포용

8) "description": ""
프로젝트 설명
npm 페이지에서 띄우는 텍스트라서
여기도 아무 글자 안 넣어도 문제 없음.

설치하기
```
npm install express dotenv cors bcrypt jsonwebtoken mongoose multer
```
1) Express
Node.js로 서버를 만드는 핵심 프레임워크
라우터 만들기 (예: /login, /users) / HTTP 요청 처리 / 미들웨어 사용

2) dotenv
비밀정보(.env 파일)를 Node에서 쓸 수 있게 해주는 라이브러리
데이터베이스 주소 / JWT SECRET KEY / API KEY

3) cors
다른 도메인(=프론트와 백엔드가 다를 때)에서 API 요청 허용하도록 해주는 보안 설정
React: http://localhost:3000
Node 서버: http://localhost:5000
주소가 다르니깐 서로 다른 사이트이다 그래서 통신이 안된다 그걸 허용하기 위해 사용

4) bcrypt
비밀번호 암호화(해싱) 해주는 라이브러리
비밀번호를 DB에 절대 그대로 저장하면 안 됨
회원가입 → 비밀번호 bcrypt로 암호화해서 저장
로그인 → 입력한 비밀번호를 bcrypt로 비교

5) jsonwebtoken (JWT)
로그인 후 “토큰”을 만들어서 인증을 유지하게 해주는 라이브러리
회원가입 → 사용자 정보 저장
로그인 → JWT 토큰 만들어서 프론트에 전달
프론트는 토큰을 로컬스토리지/쿠키에 저장
이후 API 요청할 때 토큰을 함께 보내 인증함

6) mongoose
MongoDB 데이터베이스에 연결하고, 데이터를 쉽게 다루게 해주는 라이브러리

예)
`mongoose.connect(process.env.MONGO_URI);`


데이터 모델(스키마)도 만들 수 있다!
```
const UserSchema = new mongoose.Schema({
  email: String,
  password: String
});
```


7) multer
이미지 업로드 / 파일 업로드 기능을 만드는 라이브러리
Node의 Express는 기본적으로 파일 업로드 기능이 없어서 추가함


nodemon 수정할 때 자동으로 서버 재실행하여 최신화로 반영
npm install --save-dev nodemon


package.json

  "name": "server",
  "version": "1.0.0",
  "main": "server.js",
 +  "type":"module", 추가함


    "start": "node server.js",
    + "server" : "nodemon server.js"
    추가함

"server": "nodemon server.js"
코드 저장할 때마다 자동으로 서버 재시작